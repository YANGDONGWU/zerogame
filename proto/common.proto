syntax = "proto3";

package proto.common;
option go_package = "./";

// 统一的响应包装
message Result {
  int32 code = 1;      // 状态码：0-成功，其他-错误码
  string msg = 2;      // 提示信息
}

// 错误码枚举
// aa-bb-cccc (aa服务前缀 bb模块前缀 cccc业务码)
enum ErrorCode {
  // 0 成功
  SUCCESS = 0;

  // ==========================================
  // 10 - 系统错误码 (10xxcccc)
  // ==========================================
  SYSTEM_INTERNAL_ERROR = 10000001;       // 系统内部错误
  SYSTEM_INVALID_PARAMS = 10000002;       // 参数错误
  SYSTEM_RPC_CALL_ERROR = 10000003;     // rpc 调用失败
  SYSTEM_DB_MYSQL_ERROR = 100000014;     // mysql 异常

  // ==========================================
  // 11 - 登陆错误码 (11xxcccc)
  // ==========================================
  LOGIN_AUTH_FAILED = 11000001;  // 认证失败
  LOGIN_USER_NOT_FOUND = 11000002;  // 用戶不存在
  LOGIN_PASSWORD_WRONG = 11000003;  // 密码错误
  LOGIN_TOKEN_EXPIRED = 11000004;  // 登录过期
  LOGIN_USER_BANNED = 11000005;  // 账号被封禁 (对应原 Lua 中的 Code 3)
  LOGIN_IP_BANNED = 11000006;  // IP 地址被封禁 (对应原 Lua 中的 Code 100)
  LOGIN_GPS_BANNED = 11000007;  // GPS 区域封禁 (对应原 Lua 中的 Code 101)
  LOGIN_REG_FAILED = 11000008;  // 自动注册失败 (存储过程返回非1)
  LOGIN_ACCOUNT_EXISTS = 11000009;  // 账号已存在 (注册时冲突)
  LOGIN_DEVICE_CONFLICT = 11000010;  // 账号在其他设备登录 (顶号)
  LOGIN_CHANNEL_MISMATCH = 11000011;  // 渠道不匹配或非法渠道
  LOGIN_SESSION_INVALID = 11000012;  // 会话非法或已断开

  // ==========================================
  // 12 - 用户错误码 (12xxcccc)
  // ==========================================
  USER_QUERY_FAILED = 12000001;  // 12-0001 用户查询失败
}